@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

/* ===== Токени теми (нічна — за замовчуванням) ===== */
:root{
    --gap:16px;
    --muted:#c7cbd4;

    --bg:#0b0c10;
    --panel:#111217;
    --card:#181a20;
    --text:#e6eaf1;
    --primary:#4f46e5;
    --primary-600:#4338ca;
    --success:#16a34a;
    --warn:#f59e0b;
    --danger:#ef4444;
    --radius:16px;
    --shadow:0 10px 30px rgba(0,0,0,.35);

    --bg-img:url('/giphy.gif');
    --bg-tint1:rgba(8,11,17,.55);
    --bg-tint2:rgba(8,11,17,.55);

    --border:rgba(255,255,255,.08);
    --border-soft:rgba(255,255,255,.06);

    --thead-bg:#0c0e13;
    --table-bg:#0f1116;

    --topbar-h:56px;

    /* прозорість «вікон» (карток/таблиць) — ~20% прозоріше */
    --card-alpha:76%;
    --table-alpha:82%;
    --thead-alpha:82%;
}

/* Денний режим */
html[data-theme="light"]{
    --muted:#6b7280;

    --bg:#f6f7fb;
    --panel:#ffffff;
    --card:#ffffff;
    --text:#0b0c10;
    --primary:#4f46e5;
    --primary-600:#4338ca;
    --success:#16a34a;
    --warn:#d97706;
    --danger:#dc2626;
    --shadow:0 8px 24px rgba(0,0,0,.08);

    --bg-img:url('/dog-flying-at-guy-eating.gif');
    --bg-tint1:rgba(255,255,255,.78);
    --bg-tint2:rgba(255,255,255,.78);

    --border:rgba(0,0,0,.10);
    --border-soft:rgba(0,0,0,.06);

    --thead-bg:#f2f3f7;
    --table-bg:#ffffff;

    --card-alpha:76%;
    --table-alpha:82%;
    --thead-alpha:82%;
}

html, body, #root { height:100%; }

body{
    margin:0;
    color:var(--text);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;

    background:
            linear-gradient(var(--bg-tint1), var(--bg-tint2)),
            var(--bg-img) center / cover no-repeat fixed;
    background-blend-mode:multiply;
}

/* ======== Layout / каркас ======== */

.page{ min-height:100vh; display:flex; flex-direction:column; }

.container{ width:min(1200px, 92vw); margin:24px auto 60px; }

/* Шапка */
.topbar{
    position:sticky; top:0; z-index:10;
    backdrop-filter:saturate(140%) blur(6px);
    background: color-mix(in oklab, var(--panel) 84%, transparent);
    border-bottom:1px solid var(--border);
    display:flex; align-items:center; justify-content:center;
    padding:14px 24px; min-height:var(--topbar-h);
}
.topbar .left{ position:absolute; left:24px; }
.topbar .right{ position:absolute; right:24px; display:flex; align-items:center; gap:10px; }
.topbar .user{ color:var(--muted); font-size:14px; }

/* Лого по центру шапки */
.topbar .brand-center{
    position:absolute; left:50%; transform:translateX(-50%);
    display:flex; align-items:center; justify-content:center;
    pointer-events:none;
}
.topbar .brand-logo{ height:34px; /* ВАЖЛИВО: без display тут */ }

/* За замовчуванням: обидва існують, але сховані */
.brand-light, .brand-dark { display:none !important; }
/* Світла тема → показуємо чорне лого */
html[data-theme="light"] .brand-light { display:block !important; }
/* Темна тема → показуємо біле лого */
html[data-theme="dark"] .brand-dark { display:block !important; }

/* Додатковий клас для інших місць (не впливає на brand-логи) */
.logo{ height:28px; display:block; opacity:.95; }

/* Картки і таблиці — ~20% прозоріше */
.card{
    background: color-mix(in oklab, var(--card) var(--card-alpha), transparent);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:22px;
    margin:18px auto;
    width:min(1200px, 92vw);
}
.card h3{ margin:0 0 14px; font-size:20px; }

/* інпути */
.input, .textarea{
    width:100%;
    background:#0f1015;
    border:1px solid var(--border);
    color:var(--text);
    border-radius:12px;
    padding:12px 14px;
    outline:none;
}
html[data-theme="light"] .input,
html[data-theme="light"] .textarea{ background:#ffffff; }
.textarea{ min-height:110px; resize:vertical; }
.row{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.row + .row{ margin-top:12px; }

/* кнопки — однакові в обох темах (як у «нічній») */
.btn{
    display:inline-flex; align-items:center; gap:8px;
    height:40px; padding:0 14px;
    border-radius:12px; border:1px solid transparent;
    background:#20222b; color:#fff; cursor:pointer; user-select:none;
}
.btn:hover{ filter:brightness(1.05); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }
.btn.primary{ background:var(--primary); }
.btn.primary:hover{ background:var(--primary-600); }
.btn.success{ background:var(--success); }
.btn.warn{ background:var(--warn); }
.btn.danger{ background:var(--danger); }
.btn.ghost{ background:transparent; color:var(--text); border-color:var(--border); }
.btn.sm{ height:32px; padding:0 10px; font-size:14px; }
.actions{ display:flex; flex-wrap:wrap; gap:8px; }

/* БІЛІ кнопки в шапці (Вийти, Ніч/День) */
.btn.white{
    background:#ffffff; color:#111827; border:1px solid rgba(0,0,0,.06);
}
.btn.white:hover{ filter:brightness(0.98); }

/* таблиця — ~20% прозоріше */
.table-wrap{ overflow:auto; border-radius:12px; border:1px solid var(--border-soft); }
.table{
    width:100%; border-collapse:separate; border-spacing:0; min-width:640px;
    background: color-mix(in oklab, var(--table-bg) var(--table-alpha), transparent);
}
.table thead th{
    text-align:left; font-size:13px; letter-spacing:.2px; color:var(--muted);
    padding:12px 14px;
    background: color-mix(in oklab, var(--thead-bg) var(--thead-alpha), transparent);
    position:sticky; top:0; z-index:1;
}
.table tbody td{ padding:14px; border-top:1px solid var(--border-soft); }

.badge{
    display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px;
    background:#1b1f2a; color:#b8c0d4; border:1px solid var(--border);
}
.badge.green{ background:rgba(22,163,74,.15); color:#15803d; }
.badge.orange{ background:rgba(245,158,11,.15); color:#b45309; }
.badge.gray{ background:#1f2430; color:#475569; }

.muted{ color:var(--muted); }
.small{ font-size:12px; }

/* ======== Авторизація ======== */
.center-wrap{ min-height:100%; display:grid; place-items:center; padding:24px; }
.auth-stack{ display:flex; flex-direction:column; align-items:center; gap:18px; transform:translateY(-10px); }
.auth-logo{ width:360px; max-width:80vw; display:block; margin:0 auto; filter:drop-shadow(0 8px 24px rgba(0,0,0,.55)); }
/* === Login card: theme-aware === */
.auth-card{
    width:430px; max-width:92vw;
    /* підтягуємо колір поверхні з теми і робимо злегка прозорим */
    background: color-mix(in oklab, var(--panel) 86%, transparent);
    border:1px solid var(--border);
    border-radius:16px;
    padding:18px 16px 16px;
    box-shadow:0 18px 38px var(--shadow, rgba(0,0,0,.18));
    backdrop-filter: blur(8px) saturate(140%);
    color: var(--text);
}
.auth-card h2{ margin:0 0 12px; font-size:18px; font-weight:600; letter-spacing:.2px; color:var(--text); }

.auth-card h2{ margin:0 0 12px; font-size:18px; font-weight:600; letter-spacing:.2px; }
.auth-field{ margin:10px 0; }
.auth-input{
    display:block; width:90%; margin:0 auto;
    height:44px; padding:10px 12px;
    border-radius:12px;
    border:1px solid var(--border);
    /* світла/темна поверхня з невеликою прозорістю */
    background: color-mix(in oklab, var(--card) 92%, transparent);
    color: var(--text);
    outline:none; font-size:15px; line-height:1.25;
    transition:border-color .2s, box-shadow .2s, background .2s;
}
.auth-input::placeholder{ color: var(--muted); }
.auth-input:focus{
    border-color: var(--primary);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--primary) 28%, transparent);
    background: color-mix(in oklab, var(--card) 96%, transparent);
}
.auth-input::placeholder{ color:#9aa4b2; }
.auth-input:focus{ border-color:#8ab4ff; box-shadow:0 0 0 3px rgba(138,180,255,.18); background:rgba(13,20,36,.86); }
.auth-btn{
    display:block; width:90%; margin:12px auto 0; padding:11px 14px;
    border-radius:12px; border:1px solid #2b3993;
    background:linear-gradient(180deg,#5865ff,#3e47dd);
    color:#fff; font-weight:600; letter-spacing:.2px; cursor:pointer;
    transition:transform .06s, filter .2s, box-shadow .2s;
    box-shadow:0 10px 26px rgba(62,71,221,.28);
}
.auth-btn:hover{ filter:brightness(1.04); }
.auth-btn:active{ transform:translateY(1px); }
.auth-btn:disabled{ opacity:.6; cursor:not-allowed; box-shadow:none; }

/* Чекбокс "Запам'ятати мене" під формою логіну */
.auth-extra{
    width:90%;
    margin:6px auto 0;
    display:flex;
    align-items:center;
    justify-content:space-between;
    font-size:13px;
    color:var(--muted);
}

.auth-checkbox{
    display:inline-flex;
    align-items:center;
    gap:6px;
    cursor:pointer;
    user-select:none;
}

.auth-checkbox input{
    width:16px;
    height:16px;
    border-radius:4px;
    border:1px solid var(--border);
    background: color-mix(in oklab, var(--card) 96%, transparent);
}

/* Вкладений OperatorApp під картку Desk */
.card .container{ width:100%; margin:0; }
.card .card{ width:100%; margin:0; padding:0; background:transparent; border:0; box-shadow:none; }
.card .card h3{ margin:0 0 12px; }

/* Нотифікатор */
.notif-popup{
    position:fixed; top:90px; left:24px;
    background:rgba(52,211,153,.9); color:#062a1b;
    padding:14px 18px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.25);
    font-size:14px; font-weight:500; z-index:2000; border:1px solid rgba(16,185,129,.4);
    animation:fadeInOut 7s ease forwards;
}
@keyframes fadeInOut{
    0%{opacity:0; transform:translateY(-10px);}
    10%,90%{opacity:1; transform:translateY(0);}
    100%{opacity:0; transform:translateY(-10px);}
}

/* === Modal === */
.modal{ position:fixed; inset:0; z-index:1000; display:grid; place-items:center; }
.modal__backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(2px); }
.modal__card{
    position:relative; width:min(980px,96vw); max-height:90vh; overflow:auto;
    background: var(--panel); border:1px solid var(--border); border-radius:14px; box-shadow:0 10px 40px rgba(0,0,0,.55); padding:16px;
}
.modal__head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }
.modal__title{ font-size:18px; font-weight:600; }

/* Details */
.details-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px 18px; margin-top:6px; }
.field{ display:grid; gap:4px; }
.field--full{ grid-column:1 / -1; }
.field__label{ font-size:12px; color:var(--muted); letter-spacing:.2px; }
.field__value{ font-size:14px; line-height:1.35; color:var(--text); word-break:break-word; }
.pre-wrap{ white-space:pre-wrap; }

/* Штампи */
.stamp-anim{ position:absolute; right:-8px; top:-6px; width:132px; pointer-events:none; opacity:0; transform:scale(.35) rotate(-12deg); animation:stamp-pop 800ms cubic-bezier(.2,.75,.25,1) forwards; filter:drop-shadow(0 4px 10px rgba(0,0,0,.35)); }
@keyframes stamp-pop{ 0%{opacity:0; transform:scale(.10) rotate(-12deg) translateY(-10px);} 60%{opacity:1; transform:scale(.55) rotate(-6deg) translateY(0);} 100%{opacity:1; transform:scale(.50) rotate(-8deg);} }
.stamp-badge{ height:22px; margin-left:8px; opacity:.9; transform:rotate(-8deg); filter:drop-shadow(0 2px 6px rgba(0,0,0,.35)); }

/* грід + дрібні */
.card *{ box-sizing:border-box; }
.form-grid{ display:grid; grid-template-columns:1fr; gap:14px; margin-top:10px; }
@media (min-width:900px){ .form-grid--2{ grid-template-columns:1fr 1fr; } }
.input, .textarea, select.input{ width:100%; min-width:0; }
.section-gap{ margin-top:14px; }
.textarea{ padding:12px 14px; }

.theme-fab{
    position: fixed;
    top: 16px;
    right: 16px;
    z-index: 20;
}
.faq-fab{
    position: fixed;
    top: 16px;
    left: 16px;
    z-index: 20;
}

/* FAQ у модалці */
.faq-body{
    display: grid;
    gap: 8px;
    padding: 6px 2px 4px;
}
.faq-item{
    border:1px solid var(--border);
    border-radius:12px;
    background: color-mix(in oklab, var(--card) 86%, transparent);
    padding: 8px 120px;
}
.faq-item[open]{ background: color-mix(in oklab, var(--card) 92%, transparent); }
.faq-q{
    cursor:pointer;
    font-weight:600;
    list-style:none;
    padding:6px 0;
}
.faq-a{
    margin-top:6px;
    color:var(--text);
    font-size:14px;
    line-height:1.45;
}
.faq-ul{
    margin:6px 0 0 0;
    padding-left:18px;
}

.auth-aux{
    width:90%;
    margin:8px auto 0;
    text-align:center;
}
.auth-link{
    color:var(--muted);
    text-decoration:none;
    font-size:14px;
}
.auth-link:hover{
    color:var(--text);
    text-decoration:underline;
}
.row-sla-bad {
    background-color: rgba(239, 68, 68, 0.08); /* легке червоне підсвічування */
}

/* ===== Помилки полів авторизації ===== */
.field-error{
    color:#fca5a5;
    font-size:12px;
    margin-top:4px;
    padding-left:5%;
}
.input-error{
    border-color:#f97373 !important;
}

/* ===== Нижня «шапка»-опис на екрані логіну (оновлена) ===== */
.login-footer{
    position: fixed;
    bottom: 32px;
    left: 50%;
    transform: translateX(-50%);
    max-width: min(860px, 96vw);

    padding: 18px 28px;
    border-radius: 24px;

    background: color-mix(in oklab, var(--panel) 88%, transparent);
    border: 1px solid var(--border-soft);
    box-shadow: 0 14px 32px rgba(0,0,0,.45);

    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;

    text-align: center;
    font-size: 14px;
    color: var(--muted);

    backdrop-filter: blur(10px) saturate(150%);
}

.login-footer__title{
    font-weight: 600;
    letter-spacing: .02em;
    font-size: 15px;
    color: var(--text);
}

.login-footer__text{
    line-height: 1.45;
    max-width: 760px;
}

/* мобільна адаптація для банера */
@media (max-width: 640px){
    .login-footer{
        bottom: 16px;
        padding: 14px 16px;
        border-radius: 18px;
        font-size: 13px;
    }

    .login-footer__title{
        font-size: 14px;
    }
}